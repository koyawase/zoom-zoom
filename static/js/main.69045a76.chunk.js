(this["webpackJsonpzoom-zoom"]=this["webpackJsonpzoom-zoom"]||[]).push([[0],{36:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),i=n(29),a=n.n(i),r=(n(36),n(19)),s=n.n(r),u=n(30),l=n(8),j=n(7),d=n(5),h=function(e){var t=e.iconUrl,n=e.position;return Object(d.jsx)(j.c,{latitude:Number(n.latitude),longitude:Number(n.longitude),children:Object(d.jsx)("img",{height:"50",src:t,alt:"vehicle map marker"})})},b=function(e){var t=e.data;return Object(d.jsx)(j.d,{id:"home-zones",type:"geojson",data:t,children:Object(d.jsx)(j.b,{id:"home-zones-layer",type:"line",source:"home-zones",paint:{"line-color":"#f7590d","line-width":3}})})},O=n.p+"static/media/loading-spinner.9dd8c81d.gif",p=(n(59),function(){return Object(d.jsxs)("div",{className:"loading-spinner",children:[Object(d.jsx)("img",{src:O,alt:"loading"}),Object(d.jsx)("h1",{children:"Loading"})]})}),m=n(11),f=function(e){var t=e.lat,n=e.long,o=e.zoom,i=e.vehicleData,a=e.homeZones,r=Object(c.useState)({height:"100vh",width:"100wh",latitude:t,longitude:n,zoom:o}),s=Object(l.a)(r,2),u=s[0],O=s[1],p=Object(c.useState)({}),f=Object(l.a)(p,2),g=f[0],v=f[1];return Object(d.jsxs)(j.e,Object(m.a)(Object(m.a)({},u),{},{mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"/zoom-zoom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKENS:"pk.eyJ1Ijoia295YXdhc2UiLCJhIjoiY2trcTVycWd6MzF3dzJ1bGFjd3Nhb2NvZyJ9.LfQ02Q86X6jWR-S3kc1j2g"}).REACT_APP_MAPBOX_ACCESS_TOKEN,onViewportChange:function(e){return O(e)},mapStyle:"mapbox://styles/mapbox/basic-v9",children:[Object(d.jsxs)("h2",{children:["Latitude ",g.lat]}),Object(d.jsxs)("h2",{children:["Longitude ",g.long]}),i.map((function(e,t){return Object(d.jsx)(h,Object(m.a)({},e),"custom-marker-".concat(t))})),Object(d.jsx)(b,Object(m.a)({},a)),Object(d.jsx)(j.a,{style:{right:10,top:10},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showAccuracyCircle:!1,onGeolocate:function(e){return v({lat:e.coords.latitude,long:e.coords.longitude})},auto:!0})]}))};f.defaultProps={lat:-41.2924,long:174.778,zoom:15};var g=f;var v=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)([]),a=Object(l.a)(i,2),r=a[0],j=a[1],h=Object(c.useState)(!0),b=Object(l.a)(h,2),O=b[0],m=b[1];function f(){return(f=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("https://api.mevo.co.nz/public/vehicles/all"),fetch("https://api.mevo.co.nz/public/home-zones/all")]).then((function(e){e[0].json().then((function(e){return o(e)})),e[1].json().then((function(e){return j(e)}))})).catch((function(e){throw e}));case 2:m(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(d.jsx)("div",{className:"App",children:O?Object(d.jsx)(p,{}):Object(d.jsx)(g,{vehicleData:n,homeZones:r})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),x()}},[[60,1,2]]]);
//# sourceMappingURL=main.69045a76.chunk.js.map