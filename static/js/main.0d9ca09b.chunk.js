(this["webpackJsonpzoom-zoom"]=this["webpackJsonpzoom-zoom"]||[]).push([[0],{36:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),i=n(29),a=n.n(i),r=(n(36),n(19)),s=n.n(r),u=n(30),l=n(8),j=n(7),h=n(5),d=function(e){var t=e.iconUrl,n=e.position;return Object(h.jsx)(j.c,{latitude:Number(n.latitude),longitude:Number(n.longitude),children:Object(h.jsx)("img",{height:"50",src:t,alt:"vehicle map marker"})})},b=function(e){var t=e.data;return Object(h.jsx)(j.d,{id:"home-zones",type:"geojson",data:t,children:Object(h.jsx)(j.b,{id:"home-zones-layer",type:"line",source:"home-zones",paint:{"line-color":"#f7590d","line-width":3}})})},p=n.p+"static/media/loading-spinner.9dd8c81d.gif",m=(n(59),function(){return Object(h.jsxs)("div",{className:"loading-spinner",children:[Object(h.jsx)("img",{src:p,alt:"loading"}),Object(h.jsx)("h1",{children:"Loading"})]})}),O=n(11),f=function(e){var t=e.lat,n=e.long,o=e.zoom,i=e.vehicleData,a=e.homeZones,r=Object(c.useState)({height:"100vh",width:"100wh",latitude:t,longitude:n,zoom:o}),s=Object(l.a)(r,2),u=s[0],p=s[1],m=Object(c.useState)({}),f=Object(l.a)(m,2),g=f[0],x=f[1];return Object(h.jsxs)(j.e,Object(O.a)(Object(O.a)({},u),{},{mapboxApiAccessToken:"pk.eyJ1Ijoia295YXdhc2UiLCJhIjoiY2trcTVycWd6MzF3dzJ1bGFjd3Nhb2NvZyJ9.LfQ02Q86X6jWR-S3kc1j2g",onViewportChange:function(e){return p(e)},mapStyle:"mapbox://styles/mapbox/basic-v9",children:[Object(h.jsxs)("h2",{children:["Latitude ",g.lat]}),Object(h.jsxs)("h2",{children:["Longitude ",g.long]}),i.map((function(e,t){return Object(h.jsx)(d,Object(O.a)({},e),"custom-marker-".concat(t))})),Object(h.jsx)(b,Object(O.a)({},a)),Object(h.jsx)(j.a,{style:{right:10,top:10},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showAccuracyCircle:!1,onGeolocate:function(e){return x({lat:e.coords.latitude,long:e.coords.longitude})},auto:!0})]}))};f.defaultProps={lat:-41.2924,long:174.778,zoom:15};var g=f;var x=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)([]),a=Object(l.a)(i,2),r=a[0],j=a[1],d=Object(c.useState)(!0),b=Object(l.a)(d,2),p=b[0],O=b[1];function f(){return(f=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("https://api.mevo.co.nz/public/vehicles/all"),fetch("https://api.mevo.co.nz/public/home-zones/all")]).then((function(e){e[0].json().then((function(e){return o(e)})),e[1].json().then((function(e){return j(e)}))})).catch((function(e){throw e}));case 2:O(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(h.jsx)("div",{className:"App",children:p?Object(h.jsx)(m,{}):Object(h.jsx)(g,{vehicleData:n,homeZones:r})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),v()}},[[60,1,2]]]);
//# sourceMappingURL=main.0d9ca09b.chunk.js.map